# 过滤数据

本章讲解如何使用`SELECT`语句的`WHERE`子句指定搜索条件。


<br/>
<br/>


## WHERE子句

数据库一般包含大量的数据，很少需要检索表中所有行。通常只会根据特定操作或报告的需要提取表数据的子集。
只检索所需数据需要指定搜索条件(也称为过滤条件)。

在`SELECT`语句中，数据根据`WHERE`子句中指定的搜索条件进行过滤。
在同时使用`ORDER BY`和`WHERE`子句时，应该让`ORDER BY`位于`WHERE`之后，否则将产生错误。

```sql
SELECT columnName
FROM tableName
WHERE id = 1001;
```


<br/>
<br/>


## WHERE子句操作符

MySQL支持如下条件操作符:

| 操作符 | 说明 |
| - | - |
| `=` | 等于 |
| `<>` | 不等于 |
| `!=` | 不等于 |
| `<>` | 小于 |
| `<=` | 小于等于 |
| `>` | 大于 |
| `>=` | 大于等于 |
| `BETWEEN` | 在指定的两个值之间 |

<br/>


### 检查单个值

```sql
SELECT column1, column2
FROM table1
WHERE name = 'zhang';

SELECT column1, column2
FROM table1
WHERE price <= 10;

```


<br/>
<br/>


### 不匹配检查

```sql
SELECT column1, column2
FROM table1
WHERE id <> 1002;

SELECT column1, column2
FROM table1
WHERE id != 1003;

```


<br/>
<br/>


### 范围值检查

为了检查某个范围的值，可使用`BETWEEN`操作符。它需要两个值，即范围的开始值和结束值。

```sql
SELECT column1, column2
FROM table1
WHERE price BETWEEN 2 AND 10;

```


<br/>
<br/>


### 空值检查

在创建表时，可指定列是否可以不包含值。在一个列不包含值时，称其为空值`NULL`。
NULL， 无值(no value)，它与字段包含0、空字符串或仅仅包含空格㓊。

有一个特殊的`WHERE`子句`ISNULL`，用来检测具有NULL值的列。

```sql
SELECT column1
FROM table1
WHERE price IS NULL;
```


<br/>
<br/>


## 组合WHERE子句

使用组合的`WHERE`子句，以`AND`和`OR`子句(逻辑操作符)的方式，进行更强的数据控制。


<br/>


### AND操作符

```sql
SELECT column1, column2
FROM table1
WHERE name = 'zhang' AND price <= 10;>
```


<br/>
<br/>


### OR操作符

```sql
SELECT column1, column2
FROM table1
WHERE name = 'zhang' OR name = 'abc';
```


<br/>
<br/>


### 计算次序

`WHERE`可包含任意数目的`AND`和`OR`操作符，允许两者结合已进行复杂和高级的过滤。
由于逻辑操作符存在优先级，所以请记得使用括号。

```sql
SELECT column1, column2
FROM table1
WHERE (id = 1001 OR id = 1003) AND price >= 10;
```


<br/>
<br/>


## IN操作符

`IN`操作符用来指定条件范围，范围中的每个条件都可以进行匹配。

```sql
SELECT column1, column2
FROM table1
WHERE id IN (1001, 1002)
ORDER BY column2;

# WHERE id = 1001 OR id = 1002
```

其实这里的`IN`和`OR`操作符完成相同的功能。为什么要使用`IN`操作符:
- 在使用长的合法选项清单时，IN操作符的语法更清楚且更直观
- 在使用IN时，计算的次序更容易管理
- IN操作符一般比OR操作符清单执行更快
- IN的最大优点是可以包含其他SELECT语句，使得能够更动态地建立WHERE子句


<br/>
<br/>


## NOT操作符

`WHERE`子句中的`NOT`操作符有且只有一个功能，那就是否定它之后所跟的任何条件。

```sql
SELECT column1, column2
FROM table1
WHERE id NOT IN (1001, 1002)
ORDER BY column2;
```
