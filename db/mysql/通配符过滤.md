# 使用通配符进行过滤

本章介绍什么是通配符、如何使用通配符以及怎样使用`LIKE`操作符进行通配搜索，以便对数据进行负载过滤。

**通配符(wildcard)**，用来匹配一部分的特殊字符。
**搜索模式(search pattern)**，由字面值、通配符或两者组合构成的搜索条件。

<br/>


## LIKE操作符

通配符本身本身实际是SQL的`WHERE`子句中有特殊含义的字符，SQL支持几种通配符:
- 百分号(`%`)通配符
- 下划线(`_`)通配符

为了在搜索子句中使用通配符，必须使用`LIKE`操作符。`LIKE`只是MySQL，后跟搜索模式利用通配符，而不是直接相等匹配进行比较。


<br/>


### 百分号通配符

- 注意，除了一个或多个字符，`%`还能匹配0个字符(也就是`>=0`);
- `%`通索配符不能匹配NULL;
- 在搜索中，`%`通配符表示任何字符出现任何次数(类似Linux中的星号`*`);
- `%`通配符可在搜索模式的任意位置使用，并且可以使用多个通配符(这点Linux的星号不支持);
- 通配符也可以出现在搜索模式的中间，虽然这样并不太有用;
- 根据MySQL的配置方式，搜索可以是区分大小写的。

```sql
# 搜索以zhang开头的名字的内容
SELECT id, name
FROM table1
WHERE name LIKE 'zhang%';


SELECT id, name
FROM table1
WHERE name LIKE '%zhang%';

SELECT name
FROM table1
WHERE name LIKE 'a%z';
```


<br/>
<br/>


# 下划线通配符

下划线(`_`)通配符只匹配单个字符

```sql
SELECT id, name
FROM table1
WHERE name LIKE 'zhan_';

```


<br/>
<br/>


## 使用通配符的技巧

如上所见，MySQL通配符很有用。但这种功能是有代价的: **通配符搜索的处理一般要比前面讨论的其它搜索所花时间更长。**
这里给出一些使用通配符要记住的技巧：
- 不要过度使用通配符。如果其它操作符能达到相同的目的，应该使用其它操作符；
- 在确实需要使用通配符时，除非绝对有必要，否则不要把它们用在搜索模式的开始处(这样太慢了)；
- 请注意通配符的放置位置，不要乱放。


